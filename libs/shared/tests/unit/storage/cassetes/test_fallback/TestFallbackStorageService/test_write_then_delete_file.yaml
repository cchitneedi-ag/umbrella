interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiZTAwOTg4NzVhNmJlN2ZkMGZiOGQ1YjVlZmQ2YjZmNjYyZWZmNzI5NSJ9.eyJpYXQiOiAxNTgxMzM3MDc4LCAiZXhwIjogMTU4MTM0MDY3OCwgImlzcyI6ICJjb2RlY292LW1hcmtldGluZy1kZXBsb3ltZW50QGdlbnVpbmUtcG9seW1lci0xNjU3MTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAiYXVkIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgInNjb3BlIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5mdWxsX2NvbnRyb2wgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfb25seSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZSJ9.CcBqPJflDHg4ujCH07ec5duDsySap0zrbQ-hct2t_lSbkxAXa-A5ATukgd4rqBgO591WLNy8mY91rf3ySwRCHDWgJAsxHxSvnsADblw3zNL7UOwT3Eq0QucoXYw3NHoige_MPAZJLIszG5N96uwwBZsJgh2oHlyJ5QYeBHSqS1h8CdsDcyE9QbV6C7Qdni3ASQwhVfw7vB2lglhjszAEn4mmkc5dy6iQ80DNQehP9bCs-TmIRti1gUmrwscE0gH7ouG3mDpuJokWKl2kzhQFvyXFJuTNH5CAnX_I749SVtd7eEzBS6Ywa5_6jQ_6Iphmf6xr4IjgXc6hd78nXY1Z_Q&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '987'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - application/x-www-form-urlencoded
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3P226CMAAA0H/psxiEVWFvVBmXTgSJTH0hBEoKZRQpF8uyf5/Z+YPzA7I8J0Kk
        A2ekBe9AZpq5zte4O6IpKk/QYbQIJsw/v1rWydLQN2Ua5QzVVd2HyHL7wcZUE2/OSG15etDckDtK
        kDHG8bWZi/kwBbmmUDSgaQndniVxEJ1Nz03GqtHEErnNflOIhmMJI8inW4YlR97ZgdnIryRUEz9b
        dg/4vLOjegu0D6Eqqh+3s2gvHsaVd7CIfcfxpWBC+ba2savTbly2QeiTuR73YAXIs6t6ItLq1dOh
        aa7A/zUdZEdeYUSynvTg9w8vQBoECgEAAA==
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:58 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001\"\
        ,\n  \"id\": \"testingarchive20190210001\",\n  \"name\": \"testingarchive20190210001\"\
        ,\n  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n\
        \  \"location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"\
        CAE=\",\n  \"timeCreated\": \"2020-02-10T12:17:45.261Z\",\n  \"updated\":\
        \ \"2020-02-10T12:17:45.261Z\",\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\"\
        : {\n      \"enabled\": false\n    },\n    \"uniformBucketLevelAccess\": {\n\
        \      \"enabled\": false\n    }\n  },\n  \"locationType\": \"multi-region\"\
        \n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:58 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:17:58 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UoyvAQ_Shh1yhmtOqy-bywNEh0zjDVItB0MXLRoxsHrpMkdHTtgiPo7iRima37i4J5KcDsPGEBDR485vZsycnBQW6gzXA
    status:
      code: 200
      message: OK
- request:
    body: "--===============4034966341872028433==\r\ncontent-type: application/json;\
      \ charset=UTF-8\r\n\r\n{\"name\": \"test_write_then_delete_file/result.txt\"\
      }\r\n--===============4034966341872028433==\r\ncontent-type: text/plain\r\n\r\
      \nlorem ipsum dolor test_write_then_read_file \xE1\r\n--===============4034966341872028433==--"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT00MDM0OTY2MzQxODcy
        MDI4NDMzPT0i
    method: POST
    uri: https://storage.googleapis.com/upload/storage/v1/b/testingarchive20190210001/o?uploadType=multipart
  response:
    body:
      string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive20190210001/test_write_then_delete_file/result.txt/1581337078885828\"\
        ,\n \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_write_then_delete_file%2Fresult.txt\"\
        ,\n \"name\": \"test_write_then_delete_file/result.txt\",\n \"bucket\": \"\
        testingarchive20190210001\",\n \"generation\": \"1581337078885828\",\n \"\
        metageneration\": \"1\",\n \"contentType\": \"text/plain\",\n \"timeCreated\"\
        : \"2020-02-10T12:17:58.885Z\",\n \"updated\": \"2020-02-10T12:17:58.885Z\"\
        ,\n \"storageClass\": \"STANDARD\",\n \"timeStorageClassUpdated\": \"2020-02-10T12:17:58.885Z\"\
        ,\n \"size\": \"46\",\n \"md5Hash\": \"NwIf46EiCcnfaot9N+GaBQ==\",\n \"mediaLink\"\
        : \"https://storage.googleapis.com/download/storage/v1/b/testingarchive20190210001/o/test_write_then_delete_file%2Fresult.txt?generation=1581337078885828&alt=media\"\
        ,\n \"crc32c\": \"fChI7w==\",\n \"etag\": \"CMTb7db7xucCEAE=\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '876'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:59 GMT
      ETag:
      - CMTb7db7xucCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UpYNya2vjtMceZ-nL4VNmfJGlX4HnX6xM7xld4XM1zX5Eurtebkw8IQXpZWbCsYHEf9ZNJ8C9iKxJGSThkN-A8ghCGwlw
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001\"\
        ,\n  \"id\": \"testingarchive20190210001\",\n  \"name\": \"testingarchive20190210001\"\
        ,\n  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n\
        \  \"location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"\
        CAE=\",\n  \"timeCreated\": \"2020-02-10T12:17:45.261Z\",\n  \"updated\":\
        \ \"2020-02-10T12:17:45.261Z\",\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\"\
        : {\n      \"enabled\": false\n    },\n    \"uniformBucketLevelAccess\": {\n\
        \      \"enabled\": false\n    }\n  },\n  \"locationType\": \"multi-region\"\
        \n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:59 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:17:59 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2Uoi0Fuz9E_MLaa8Oc_Lp20nNLNavQsN8DeGCrzpEWIzB7fxBs1S5ijUT8IQ90L_elOuBSBwWxiiT5sFBEH6sWZP0E4y6Q
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: DELETE
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_write_then_delete_file%2Fresult.txt
  response:
    body:
      string: ''
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      Date:
      - Mon, 10 Feb 2020 12:17:59 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqiwI1cS52MSWcfBVGB34dsqR3KKMg85Ce6azcQr-_birjBcAPJLCakvSOFjKsDNr_6bA8JN0aoMg68ZCKCUELpDqCiXw
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Content-Length:
      - '0'
      User-Agent:
      - !!binary |
        Qm90bzMvMS45LjIxOCBQeXRob24vMy43LjYgRGFyd2luLzE4LjcuMCBCb3RvY29yZS8xLjEyLjI1
        Mw==
      X-Amz-Content-SHA256:
      - !!binary |
        ZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3
        ODUyYjg1NQ==
      X-Amz-Date:
      - !!binary |
        MjAyMDAyMTBUMTIxNzU5Wg==
    method: DELETE
    uri: https://testingarchive20190210001.s3.amazonaws.com/test_write_then_delete_file/result.txt
  response:
    body:
      string: ''
    headers:
      Date:
      - Mon, 10 Feb 2020 12:18:01 GMT
      Server:
      - AmazonS3
      x-amz-id-2:
      - uNJezAu7GzYGrQ4Pt3Zj1odTYPCGFxXVBC2xUCWEMzOLYUF/vdayVWE4JV429kK7CZl4vkRWxjg=
      x-amz-request-id:
      - 077D01D1A786CEC9
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001\"\
        ,\n  \"id\": \"testingarchive20190210001\",\n  \"name\": \"testingarchive20190210001\"\
        ,\n  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n\
        \  \"location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"\
        CAE=\",\n  \"timeCreated\": \"2020-02-10T12:17:45.261Z\",\n  \"updated\":\
        \ \"2020-02-10T12:17:45.261Z\",\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\"\
        : {\n      \"enabled\": false\n    },\n    \"uniformBucketLevelAccess\": {\n\
        \      \"enabled\": false\n    }\n  },\n  \"locationType\": \"multi-region\"\
        \n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:18:00 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:18:00 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqsvJSJE0j3pm5jZ4RPXdK07MHNYwmqDJZbXdt1LjPe_nrTwc99RNUxjd32pKicTpoTuNL3d1czMcIRuSwrmlTz9lbDcg
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_write_then_delete_file%2Fresult.txt?projection=noAcl
  response:
    body:
      string: "{\n  \"error\": {\n    \"code\": 404,\n    \"message\": \"No such object:\
        \ testingarchive20190210001/test_write_then_delete_file/result.txt\",\n  \
        \  \"errors\": [\n      {\n        \"message\": \"No such object: testingarchive20190210001/test_write_then_delete_file/result.txt\"\
        ,\n        \"domain\": \"global\",\n        \"reason\": \"notFound\"\n   \
        \   }\n    ]\n  }\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '335'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:18:00 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UovQgQxHXBWNGwtj34AtRhG9ea4ZtvSHsFbsBI2Ym7sPfxcD_QLfV7XGsURme_y90lq0mGF50lLj5eASbfXd5gsnoy2Ag
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      User-Agent:
      - !!binary |
        Qm90bzMvMS45LjIxOCBQeXRob24vMy43LjYgRGFyd2luLzE4LjcuMCBCb3RvY29yZS8xLjEyLjI1
        Mw==
      X-Amz-Content-SHA256:
      - !!binary |
        ZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3
        ODUyYjg1NQ==
      X-Amz-Date:
      - !!binary |
        MjAyMDAyMTBUMTIxODAwWg==
    method: GET
    uri: https://testingarchive20190210001.s3.amazonaws.com/test_write_then_delete_file/result.txt
  response:
    body:
      string: '<?xml version="1.0" encoding="UTF-8"?>

        <Error><Code>NoSuchKey</Code><Message>The specified key does not exist.</Message><Key>test_write_then_delete_file/result.txt</Key><RequestId>56AB0FD0731AD9BC</RequestId><HostId>Yteu5WIMIc8yAUYcKcPfv73ybNwIA69r2S4z3GfklhPKhIpytA9OUMg+pTXuyqO83fkN4Ro2/8U=</HostId></Error>'
    headers:
      Content-Type:
      - application/xml
      Date:
      - Mon, 10 Feb 2020 12:17:59 GMT
      Server:
      - AmazonS3
      Transfer-Encoding:
      - chunked
      x-amz-id-2:
      - Yteu5WIMIc8yAUYcKcPfv73ybNwIA69r2S4z3GfklhPKhIpytA9OUMg+pTXuyqO83fkN4Ro2/8U=
      x-amz-request-id:
      - 56AB0FD0731AD9BC
    status:
      code: 404
      message: Not Found
version: 1
