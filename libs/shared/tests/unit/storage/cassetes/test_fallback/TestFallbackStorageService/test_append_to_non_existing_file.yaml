interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiZTAwOTg4NzVhNmJlN2ZkMGZiOGQ1YjVlZmQ2YjZmNjYyZWZmNzI5NSJ9.eyJpYXQiOiAxNTgxMzM3MDcyLCAiZXhwIjogMTU4MTM0MDY3MiwgImlzcyI6ICJjb2RlY292LW1hcmtldGluZy1kZXBsb3ltZW50QGdlbnVpbmUtcG9seW1lci0xNjU3MTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAiYXVkIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgInNjb3BlIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5mdWxsX2NvbnRyb2wgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfb25seSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZSJ9.FvvrUPychqbOVDeeuoFljvdrtp6xMEZa5FYses9iETMfJg42JoBdC5-o0xfCKQm47-rQsLlLHIregb8_hCf66RtsC4RwrFDyI7muke0Laq7legSODm_yjlnw5qSTWQeIaFH5OgGo650zPMhJnM7DZukrH1omBE3cy6oBde-BEhMfWjsEWFqye9c1Kf-DDx5pJcvZxZ0mo3pDyimjrxq8eEp2VcU_7ImvksXtigxpih1JDZbV_kyBCNMjb6xlKwGJW4Cwd8Cpph-ajyyXIMELfoWDUE099AxlaJv4DK9TwHa-U7GnE67tzpXbaYu2GUeRx15r6ZiXw_g7uCygR_Umkw&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '987'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - application/x-www-form-urlencoded
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3PyVKDMAAA0H/JuXRYS+NNNimLGGRa6iUTQ7BYyhLCVsd/t+P7g/cDCKVsGLBo
        r6wBT2AlKtzSbdjF1oSKNzwpSoSwIqq8ygOjhIyKIyf6QNPD2cz8YFo0NymKQMK7U6py7uzlyI5v
        1ModnsPyS9deGuhrLZpVM/fq8rVeDo5ZeqbUzCTd9WGwPL+nvSt/syLi/d5ZoefHXp1IcRi2zCFC
        LpOrnF2EhPBHVhN4R814PoWXrBqJBz9t+Z4Y9qrby3zDkx13mX0c3RWJQPVRCzaALV3F2YCrR08z
        INyA/ysWa8ceYYsRzjj4/QMr1lhICgEAAA==
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:52 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001\"\
        ,\n  \"id\": \"testingarchive20190210001\",\n  \"name\": \"testingarchive20190210001\"\
        ,\n  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n\
        \  \"location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"\
        CAE=\",\n  \"timeCreated\": \"2020-02-10T12:17:45.261Z\",\n  \"updated\":\
        \ \"2020-02-10T12:17:45.261Z\",\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\"\
        : {\n      \"enabled\": false\n    },\n    \"uniformBucketLevelAccess\": {\n\
        \      \"enabled\": false\n    }\n  },\n  \"locationType\": \"multi-region\"\
        \n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:52 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:17:52 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqmpfCHizQthahDwRhEK7Vr077aLF17R6jb1FHb6SXBbW5TMVAQ2PknncvrmBVp-Ce3I6HTkEgbwK_bjkhs-hzlmV6pRQ
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt?projection=noAcl
  response:
    body:
      string: "{\n  \"error\": {\n    \"code\": 404,\n    \"message\": \"No such object:\
        \ testingarchive20190210001/test_append_to_non_existing_file/result.txt\"\
        ,\n    \"errors\": [\n      {\n        \"message\": \"No such object: testingarchive20190210001/test_append_to_non_existing_file/result.txt\"\
        ,\n        \"domain\": \"global\",\n        \"reason\": \"notFound\"\n   \
        \   }\n    ]\n  }\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '345'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:52 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UrvyILq3aYZnVkl47F8UUnVQrC-s1N1ti5_3_2X7dmqwFfD0sRAuThEGIbC2SDw9Ea1-cg5SCl7Go_tqAEMDhz1pI0ySA
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001\"\
        ,\n  \"id\": \"testingarchive20190210001\",\n  \"name\": \"testingarchive20190210001\"\
        ,\n  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n\
        \  \"location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"\
        CAE=\",\n  \"timeCreated\": \"2020-02-10T12:17:45.261Z\",\n  \"updated\":\
        \ \"2020-02-10T12:17:45.261Z\",\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\"\
        : {\n      \"enabled\": false\n    },\n    \"uniformBucketLevelAccess\": {\n\
        \      \"enabled\": false\n    }\n  },\n  \"locationType\": \"multi-region\"\
        \n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:52 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:17:52 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UpMx2QFCAK1P94L1wUhVMPk4-TJlGt741L-a8Fjy6H-CVubTKr-b-DnKCAzFJ3zdauUjs-gRfSGZrzcBLFdObK1hOEO9w
    status:
      code: 200
      message: OK
- request:
    body: "--===============8296750914872740648==\r\ncontent-type: application/json;\
      \ charset=UTF-8\r\n\r\n{\"name\": \"test_append_to_non_existing_file/result.txt\"\
      }\r\n--===============8296750914872740648==\r\ncontent-type: text/plain\r\n\r\
      \nmom, look at me, appending data\r\n--===============8296750914872740648==--"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '287'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT04Mjk2NzUwOTE0ODcy
        NzQwNjQ4PT0i
    method: POST
    uri: https://storage.googleapis.com/upload/storage/v1/b/testingarchive20190210001/o?uploadType=multipart
  response:
    body:
      string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive20190210001/test_append_to_non_existing_file/result.txt/1581337073079476\"\
        ,\n \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt\"\
        ,\n \"name\": \"test_append_to_non_existing_file/result.txt\",\n \"bucket\"\
        : \"testingarchive20190210001\",\n \"generation\": \"1581337073079476\",\n\
        \ \"metageneration\": \"1\",\n \"contentType\": \"text/plain\",\n \"timeCreated\"\
        : \"2020-02-10T12:17:53.079Z\",\n \"updated\": \"2020-02-10T12:17:53.079Z\"\
        ,\n \"storageClass\": \"STANDARD\",\n \"timeStorageClassUpdated\": \"2020-02-10T12:17:53.079Z\"\
        ,\n \"size\": \"31\",\n \"md5Hash\": \"0KezyzGusHDoY2IpCrO+Gg==\",\n \"mediaLink\"\
        : \"https://storage.googleapis.com/download/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt?generation=1581337073079476&alt=media\"\
        ,\n \"crc32c\": \"hqY4xg==\",\n \"etag\": \"CLSpi9T7xucCEAE=\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '896'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:53 GMT
      ETag:
      - CLSpi9T7xucCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqoC7aMWdk6DCWDapCVxZEJIugrTP4ik_aD3AkYsDaBrco3vKBwSKwlfWNdURw5sLPrQeRmEy_f5bLIm8EAbJI6ZwoDbA
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001\"\
        ,\n  \"id\": \"testingarchive20190210001\",\n  \"name\": \"testingarchive20190210001\"\
        ,\n  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n\
        \  \"location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"\
        CAE=\",\n  \"timeCreated\": \"2020-02-10T12:17:45.261Z\",\n  \"updated\":\
        \ \"2020-02-10T12:17:45.261Z\",\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\"\
        : {\n      \"enabled\": false\n    },\n    \"uniformBucketLevelAccess\": {\n\
        \      \"enabled\": false\n    }\n  },\n  \"locationType\": \"multi-region\"\
        \n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:53 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:17:53 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2Up_yEt3bwhsRYXH-6x1xThLIyV1BKML_eMe--VWVK-P-17yh47ZPKEjzmzUvPmwiWFgTZzmUGVkdFGxIdMfWFQ0EbUDmw
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#object\",\n  \"id\": \"testingarchive20190210001/test_append_to_non_existing_file/result.txt/1581337073079476\"\
        ,\n  \"selfLink\": \"https://storage.googleapis.com/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt\"\
        ,\n  \"mediaLink\": \"https://storage.googleapis.com/download/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt?generation=1581337073079476&alt=media\"\
        ,\n  \"name\": \"test_append_to_non_existing_file/result.txt\",\n  \"bucket\"\
        : \"testingarchive20190210001\",\n  \"generation\": \"1581337073079476\",\n\
        \  \"metageneration\": \"1\",\n  \"contentType\": \"text/plain\",\n  \"storageClass\"\
        : \"STANDARD\",\n  \"size\": \"31\",\n  \"md5Hash\": \"0KezyzGusHDoY2IpCrO+Gg==\"\
        ,\n  \"crc32c\": \"hqY4xg==\",\n  \"etag\": \"CLSpi9T7xucCEAE=\",\n  \"timeCreated\"\
        : \"2020-02-10T12:17:53.079Z\",\n  \"updated\": \"2020-02-10T12:17:53.079Z\"\
        ,\n  \"timeStorageClassUpdated\": \"2020-02-10T12:17:53.079Z\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '913'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:17:53 GMT
      ETag:
      - CLSpi9T7xucCEAE=
      Expires:
      - Mon, 10 Feb 2020 12:17:53 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqznCV1OfI2wXCfP_E_96g7alegZwp7hk0NutAKgPhwaTz60_0P_IBk6ZPSg-BchzrRxwdAadkDFfc_g2wEctyfalXU_g
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      accept-encoding:
      - gzip
    method: GET
    uri: https://storage.googleapis.com/download/storage/v1/b/testingarchive20190210001/o/test_append_to_non_existing_file%2Fresult.txt?generation=1581337073079476&alt=media
  response:
    body:
      string: mom, look at me, appending data
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Disposition:
      - attachment
      Content-Length:
      - '31'
      Content-Type:
      - text/plain
      Date:
      - Mon, 10 Feb 2020 12:17:53 GMT
      ETag:
      - CLSpi9T7xucCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UoC7ze7wXLjP2i-5bVJiQ2yg7AQ0scsvfZdesQ9dHPDwam5FH52gXPuTSYJmTQqjgbtsgGqrNpiOL2VUhoQkYaqDTq1Yg
      X-Goog-Generation:
      - '1581337073079476'
      X-Goog-Hash:
      - crc32c=hqY4xg==,md5=0KezyzGusHDoY2IpCrO+Gg==
      X-Goog-Metageneration:
      - '1'
      X-Goog-Storage-Class:
      - STANDARD
    status:
      code: 200
      message: OK
version: 1
