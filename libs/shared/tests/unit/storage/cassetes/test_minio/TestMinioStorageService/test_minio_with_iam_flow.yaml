interactions:
- request:
    body: null
    headers:
      Host:
      - minio:9000
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20200415T232048Z
    method: GET
    uri: http://minio:9000/testminiowithiamflow?location=
  response:
    body:
      string: '<?xml version="1.0" encoding="UTF-8"?>

        <Error><Code>NoSuchBucket</Code><Message>The specified bucket does not exist</Message><BucketName>testminiowithiamflow</BucketName><Resource>/testminiowithiamflow</Resource><RequestId>160621965B3AB61C</RequestId><HostId>9eb4063b-34a4-4c4f-a169-8feb99fd187d</HostId></Error>'
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '312'
      Content-Security-Policy:
      - block-all-mixed-content
      Content-Type:
      - application/xml
      Date:
      - Wed, 15 Apr 2020 23:20:48 GMT
      Server:
      - MinIO/RELEASE.2020-04-15T19-42-18Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 160621965B3AB61C
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Host:
      - minio:9000
      User-Agent:
      - MinIO (Darwin; x86_64) minio-py/5.0.8
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20200415T232048Z
    method: PUT
    uri: http://minio:9000/testminiowithiamflow/
  response:
    body:
      string: ''
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Date:
      - Wed, 15 Apr 2020 23:20:48 GMT
      Location:
      - /testminiowithiamflow
      Server:
      - MinIO/RELEASE.2020-04-15T19-42-18Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 160621965B8AFED8
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: '{"Statement": [{"Action": ["s3:GetObject"], "Effect": "Allow", "Principal":
      {"AWS": ["*"]}, "Resource": ["arn:aws:s3:::testminiowithiamflow/*"]}], "Version":
      "2012-10-17"}'
    headers:
      content-length:
      - '171'
      content-md5:
      - 1ZDa6JLw1Ar3yGO8SylLeA==
      host:
      - minio:9000
      user-agent:
      - MinIO (Darwin; x86_64) minio-py/5.0.8
      x-amz-content-sha256:
      - 76558e14aa59b766163f4d28fff2cdcde3c60736b9352b947675953fefe5f1d5
      x-amz-date:
      - 20200415T232048Z
    method: PUT
    uri: http://minio:9000/testminiowithiamflow/?policy=
  response:
    body:
      string: ''
    headers:
      Accept-Ranges:
      - bytes
      Content-Security-Policy:
      - block-all-mixed-content
      Date:
      - Wed, 15 Apr 2020 23:20:48 GMT
      Server:
      - MinIO/RELEASE.2020-04-15T19-42-18Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 160621965BCC6058
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 204
      message: No Content
- request:
    body: !!python/object/new:_io.BytesIO
      state: !!python/tuple
      - !!binary |
        H4sIANCWl14C/8vJL0rNVcgsKC7NVUjJz8kvUihJLS6JLy/KLEmNL8lIzYsvSk1MiU/LzElVOLwQ
        ABQu+7guAAAA
      - 0
      - null
    headers:
      content-encoding:
      - gzip
      content-length:
      - 66
      content-type:
      - text/plain
      host:
      - minio:9000
      user-agent:
      - MinIO (Darwin; x86_64) minio-py/5.0.8
      x-amz-content-sha256:
      - 4dd4b5455b4be70343e7ba3d81a2dc0b194b01719f998d34eee9c3c3424c676f
      x-amz-date:
      - 20200415T232048Z
    method: PUT
    uri: http://minio:9000/testminiowithiamflow/test_write_then_read_file/result
  response:
    body:
      string: ''
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Date:
      - Wed, 15 Apr 2020 23:20:48 GMT
      ETag:
      - '"9e31dd092838ccf3a439d4d7ece03857"'
      Server:
      - MinIO/RELEASE.2020-04-15T19-42-18Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 160621965C1E8734
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      host:
      - minio:9000
      user-agent:
      - MinIO (Darwin; x86_64) minio-py/5.0.8
      x-amz-content-sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      x-amz-date:
      - 20200415T232048Z
    method: GET
    uri: http://minio:9000/testminiowithiamflow/test_write_then_read_file/result
  response:
    body:
      string: !!binary |
        H4sIANCWl14C/8vJL0rNVcgsKC7NVUjJz8kvUihJLS6JLy/KLEmNL8lIzYsvSk1MiU/LzElVOLwQ
        ABQu+7guAAAA
    headers:
      Accept-Ranges:
      - bytes
      Content-Encoding:
      - gzip
      Content-Length:
      - '66'
      Content-Security-Policy:
      - block-all-mixed-content
      Content-Type:
      - text/plain
      Date:
      - Wed, 15 Apr 2020 23:20:48 GMT
      ETag:
      - '"9e31dd092838ccf3a439d4d7ece03857"'
      Last-Modified:
      - Wed, 15 Apr 2020 23:20:48 GMT
      Server:
      - MinIO/RELEASE.2020-04-15T19-42-18Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 160621965C91F854
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
version: 1
