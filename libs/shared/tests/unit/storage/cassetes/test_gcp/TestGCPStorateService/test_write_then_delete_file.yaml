interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiZTAwOTg4NzVhNmJlN2ZkMGZiOGQ1YjVlZmQ2YjZmNjYyZWZmNzI5NSJ9.eyJpYXQiOiAxNTgxMzM2NzY3LCAiZXhwIjogMTU4MTM0MDM2NywgImlzcyI6ICJjb2RlY292LW1hcmtldGluZy1kZXBsb3ltZW50QGdlbnVpbmUtcG9seW1lci0xNjU3MTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAiYXVkIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgInNjb3BlIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5mdWxsX2NvbnRyb2wgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfb25seSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZSJ9.YZgWYMBZPwwJhDRHnAQX1LFmg7KIqRuv9OgaT-_RJKLHMMJMzcQwNGY0vfllsk8tu1iPi5BSLk9szTAsrTrBojpTxS0E2mvbL5Nuxqd7ZC8SjM-gec41azUF05sxFAGC3FPdhtaZ_8F8waqc-G-pfCV7BA0sKZPmhvMWQ6klutoh-VOLQSQpTrF69TjWKfNYJzkx1ycsKBY13Fd6h6EGe2uJ_ywAiPJqqhCvp-XYr9r__KPgY9h5xqpzHZPTR3YECC6JifyX6_wr8TD1cim_FXV9zu9NHBxxb87Ekto3t9yi1ZDCD6h0b01PcI2vBF-2lwft2y8sYMpl4N4XppLYig&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '987'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - application/x-www-form-urlencoded
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3PS3KCMAAA0LtkLQ6DgE13RUUiDZ8qCm4YCgkIKCR8JHR69zp9N3g/IElT0nVx
        31TkAd6BSBS4TJd2i43Rp/re3ZRo5SRvWXhks+BHz2RuWdYs60jRmOP3nX/gQJUszzqoZpwXawSb
        dCuUcFajgqWGk8dMQkH/2TJxqE8+rzTRN2zY+Je4HlqO9Q17fBUC5VnkWGOEdzm9n3G1HazzjtjT
        uEdPJFE9woFDkc216Xqa1yrpLhBOhXyFUmm4oQY1z5CVknMnt3iYIrWWnxRTChaATO2Nky6+vXor
        DcIF+L/GvWjJK2yQhBMOfv8AZ7Yo/AoBAAA=
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:12:47 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive004?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive004\"\
        ,\n  \"id\": \"testingarchive004\",\n  \"name\": \"testingarchive004\",\n\
        \  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n  \"\
        location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"CAE=\"\
        ,\n  \"timeCreated\": \"2020-02-10T12:12:27.090Z\",\n  \"updated\": \"2020-02-10T12:12:27.090Z\"\
        ,\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\": {\n      \"enabled\"\
        : false\n    },\n    \"uniformBucketLevelAccess\": {\n      \"enabled\": false\n\
        \    }\n  },\n  \"locationType\": \"multi-region\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '562'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:12:47 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:12:47 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqYp15DzemoReh9RDV8tUpfypDuCpLhtlUQ54HtZZrb6NIKuE8pb6Hfg1Qa6-q_Xo0UElvs9PvJDAWnQyhKHkgNMkWbbA
    status:
      code: 200
      message: OK
- request:
    body: "--===============2990036300451406588==\r\ncontent-type: application/json;\
      \ charset=UTF-8\r\n\r\n{\"name\": \"test_write_then_delete_file/result.txt\"\
      }\r\n--===============2990036300451406588==\r\ncontent-type: text/plain\r\n\r\
      \nlorem ipsum dolor test_write_then_read_file \xE1\r\n--===============2990036300451406588==--"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT0yOTkwMDM2MzAwNDUx
        NDA2NTg4PT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/testingarchive004/o?uploadType=multipart
  response:
    body:
      string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive004/test_write_then_delete_file/result.txt/1581336767760600\"\
        ,\n \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive004/o/test_write_then_delete_file%2Fresult.txt\"\
        ,\n \"name\": \"test_write_then_delete_file/result.txt\",\n \"bucket\": \"\
        testingarchive004\",\n \"generation\": \"1581336767760600\",\n \"metageneration\"\
        : \"1\",\n \"contentType\": \"text/plain\",\n \"timeCreated\": \"2020-02-10T12:12:47.760Z\"\
        ,\n \"updated\": \"2020-02-10T12:12:47.760Z\",\n \"storageClass\": \"STANDARD\"\
        ,\n \"timeStorageClassUpdated\": \"2020-02-10T12:12:47.760Z\",\n \"size\"\
        : \"46\",\n \"md5Hash\": \"NwIf46EiCcnfaot9N+GaBQ==\",\n \"mediaLink\": \"\
        https://www.googleapis.com/download/storage/v1/b/testingarchive004/o/test_write_then_delete_file%2Fresult.txt?generation=1581336767760600&alt=media\"\
        ,\n \"crc32c\": \"fChI7w==\",\n \"etag\": \"CNiRwML6xucCEAE=\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '844'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:12:47 GMT
      ETag:
      - CNiRwML6xucCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UpmK4OqbeEgkEAPHir8dXPjLCN-jGysFHYYlsyViPJAWnwRFgj-X2s2CsksA0E_yGVcg3RQiaqkI3t9XI5g3csbAA2gow
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive004?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive004\"\
        ,\n  \"id\": \"testingarchive004\",\n  \"name\": \"testingarchive004\",\n\
        \  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n  \"\
        location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"CAE=\"\
        ,\n  \"timeCreated\": \"2020-02-10T12:12:27.090Z\",\n  \"updated\": \"2020-02-10T12:12:27.090Z\"\
        ,\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\": {\n      \"enabled\"\
        : false\n    },\n    \"uniformBucketLevelAccess\": {\n      \"enabled\": false\n\
        \    }\n  },\n  \"locationType\": \"multi-region\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '562'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:12:48 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:12:48 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2Up96Hl69czdXwjb9uxtUBRteN_6F8zM85r0jvihz1OsA2UkdSBTWTjk7LoUIT0PO9aaMPBga5YAGpQqOB-gZU56IYqknQ
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: DELETE
    uri: https://www.googleapis.com/storage/v1/b/testingarchive004/o/test_write_then_delete_file%2Fresult.txt
  response:
    body:
      string: ''
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      Date:
      - Mon, 10 Feb 2020 12:12:48 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UoVZ81zIs7RYzSWRMGt_S9edxy_fQ-NYdKYgoC17qeQ5HXRn2aDDOpNmaSBUek11krMojgoY3LA6SdvRxDubnZFXEvKJg
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive004?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive004\"\
        ,\n  \"id\": \"testingarchive004\",\n  \"name\": \"testingarchive004\",\n\
        \  \"projectNumber\": \"582817289294\",\n  \"metageneration\": \"1\",\n  \"\
        location\": \"US\",\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"CAE=\"\
        ,\n  \"timeCreated\": \"2020-02-10T12:12:27.090Z\",\n  \"updated\": \"2020-02-10T12:12:27.090Z\"\
        ,\n  \"iamConfiguration\": {\n    \"bucketPolicyOnly\": {\n      \"enabled\"\
        : false\n    },\n    \"uniformBucketLevelAccess\": {\n      \"enabled\": false\n\
        \    }\n  },\n  \"locationType\": \"multi-region\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '562'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:12:48 GMT
      ETag:
      - CAE=
      Expires:
      - Mon, 10 Feb 2020 12:12:48 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2Upkhl3rBwrQNtv81PSmeOqF6cfsCr2N7VUkaO9KrlePVKFOak3ROeN9E3CJ7e9N0nu32oH7N3QTQgyL8KY6lDZnYYHSYA
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
      X-Goog-API-Client:
      - gl-python/3.7.6 gax/1.16.0 gapic/1.18.0 gccl/1.18.0
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive004/o/test_write_then_delete_file%2Fresult.txt?projection=noAcl
  response:
    body:
      string: "{\n  \"error\": {\n    \"code\": 404,\n    \"message\": \"No such object:\
        \ testingarchive004/test_write_then_delete_file/result.txt\",\n    \"errors\"\
        : [\n      {\n        \"message\": \"No such object: testingarchive004/test_write_then_delete_file/result.txt\"\
        ,\n        \"domain\": \"global\",\n        \"reason\": \"notFound\"\n   \
        \   }\n    ]\n  }\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43",h3-Q050=":443"; ma=2592000,h3-Q049=":443";
        ma=2592000,h3-Q048=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443";
        ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '319'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 10 Feb 2020 12:12:48 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2Uq_L049huXgQNo9wWnA8hT5fjfIyqh6s2Cmf838QTy0bjkf_PATNeGnsPrIZD-tDP7umpO_MNF70aVS52J5SbbrQgmpFg
    status:
      code: 404
      message: Not Found
version: 1
