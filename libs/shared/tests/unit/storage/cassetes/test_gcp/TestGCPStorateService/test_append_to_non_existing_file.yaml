interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiYWVlMzMxYmEyNzQ2OTljZWNmNjMwNzgxMzdmNDNhODM0NGY0YWM4ZiJ9.eyJpYXQiOiAxNjcyNzc2MDM3LCAiZXhwIjogMTY3Mjc3OTYzNywgImlzcyI6ICJsb2NhbHN0b3JhZ2V0ZXN0ZXJAZ2VudWluZS1wb2x5bWVyLTE2NTcxMi5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsICJhdWQiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLCAic2NvcGUiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLmZ1bGxfY29udHJvbCBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF9vbmx5IGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5yZWFkX3dyaXRlIn0.yYrVaco26H1z23sWNfYfNITZFemBktoVbMMdTD8l4raN8pRL2F8ZbYre1QJqfxVYgTJ5gGuZYFv5wiQ0F1nTz0uLg94VyDZAURdA2rBOq4FbtGQT09ec9fpIyvb5fTtYCzDSBe9O5u2mjLIpizPr3nA3KVQR4QOn-jxb6YPxQ-zdRkb67xyg4UOiZ8mSbx98nsWoahgsBGivB0PWRGHKL8r0lA2oGCfNAglufkzlRGlU7UKrCb0Z1Nx4J3xH4CIEZMbwF-zE2HFebEJbZ-67DXnDmPZ3voPFZ4ilEfP4gP2aB-3pBBiRNpgqBxmv4edD55To7llBV8MZWh2352_BJQ&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '974'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/+3US3KCMAAA0LtkLYwon0l3QPjYOlAERNhkkpha5CMEpWind6/TVQ/BO8T7BoQx
        Pgz4eql4C17AnaygzGS6NBOj7s629CqhzM6pjhq7PVjIJOZXsj9NmetJNxKtbpFVbOI0gl6b7Jy6
        nxxk9GhbVHWxdO7GeCO6NuLAZJ8dsYZIVJVhQ1E9fMMPczOIveZUao0SZAxLPO6qcOvs6xP92EFJ
        GVOVXNZ5HxZE9xjJvXcV1dOo9n5yfssy2vNyVB7tEJClLnB60ES2C+nR5UraB8OlhFKzcZSjVQSP
        qUV2qmDWlLSrmUpd6zqJWJ7NZv+BBeBTVwo+4PL5wVqDcAH+csDXe8efQ1icCC7Azy+T3FDuOwQA
        AA==
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:37 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/49cd7c0a-e632-4b3b-99b8-ac5e01b85e58
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive02?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#bucket","selfLink":"https://www.googleapis.com/storage/v1/b/testingarchive02","id":"testingarchive02","name":"testingarchive02","projectNumber":"582817289294","metageneration":"4","location":"US","storageClass":"STANDARD","etag":"CAQ=","timeCreated":"2019-08-27T06:20:09.895Z","updated":"2023-01-03T19:39:25.849Z","iamConfiguration":{"bucketPolicyOnly":{"enabled":false},"uniformBucketLevelAccess":{"enabled":false},"publicAccessPrevention":"inherited"},"locationType":"multi-region","rpo":"DEFAULT"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '517'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:37 GMT
      ETag:
      - CAQ=
      Expires:
      - Tue, 03 Jan 2023 20:00:37 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ADPycdtedwHg0S_6IBcf81ETB8WuvXOpdo0zBheeWJ8a0WsJt9lnpXX19svcRrz5UPLzXPuT1-fuyvHuVyUBgvLc_gVBs5rm8wT0
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/8b9e0f55-b47d-4cbc-90f3-6f392f13a0f7
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"error":{"code":404,"message":"No such object: testingarchive02/test_append_to_non_existing_file/result.txt","errors":[{"message":"No
        such object: testingarchive02/test_append_to_non_existing_file/result.txt","domain":"global","reason":"notFound"}]}}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '251'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:38 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ADPycdv2ocgWIcCC2pW8Wo1i9xF6KpIrFCLvQ_9ZUxY2IBkC7fA60LQWaC0IcPBsgsmc--gq4jM2pa9jwNDrFlB1ivPmOpBiN5Wt
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/40484f7d-0686-4d45-ae3d-7fd8bdf344b4
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive02?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#bucket","selfLink":"https://www.googleapis.com/storage/v1/b/testingarchive02","id":"testingarchive02","name":"testingarchive02","projectNumber":"582817289294","metageneration":"4","location":"US","storageClass":"STANDARD","etag":"CAQ=","timeCreated":"2019-08-27T06:20:09.895Z","updated":"2023-01-03T19:39:25.849Z","iamConfiguration":{"bucketPolicyOnly":{"enabled":false},"uniformBucketLevelAccess":{"enabled":false},"publicAccessPrevention":"inherited"},"locationType":"multi-region","rpo":"DEFAULT"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '517'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:38 GMT
      ETag:
      - CAQ=
      Expires:
      - Tue, 03 Jan 2023 20:00:38 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ADPycdv0R0qscMR8ZCbx3JQcEL03evsA3I8CTmwdG9WGxr24AJOYv2t45OvnqxwPItGmLycNOjgTd3-9QlzTHutlPxK4s3lvYVT6
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      LS09PT09PT09PT09PT09PT0yMzU0MDE1MDY4NjAxMTczODMyPT0NCmNvbnRlbnQtdHlwZTogYXBw
      bGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOA0KDQp7Im5hbWUiOiAidGVzdF9hcHBlbmRfdG9f
      bm9uX2V4aXN0aW5nX2ZpbGUvcmVzdWx0LnR4dCIsICJjb250ZW50VHlwZSI6ICJ0ZXh0L3BsYWlu
      IiwgImNvbnRlbnRFbmNvZGluZyI6ICJnemlwIn0NCi0tPT09PT09PT09PT09PT09MjM1NDAxNTA2
      ODYwMTE3MzgzMj09DQpjb250ZW50LXR5cGU6IHRleHQvcGxhaW4NCg0KH4sIAGWJtGMC/8vNz9VR
      yMnPz1ZILFHITdVRSCwoSM1LycxLV0hJLEkEAMTXCy8fAAAADQotLT09PT09PT09PT09PT09PTIz
      NTQwMTUwNjg2MDExNzM4MzI9PS0t
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '363'
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/27889d06-f257-433a-9e1d-39337bc66e46
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT0yMzU0MDE1MDY4NjAx
        MTczODMyPT0i
      x-upload-content-type:
      - text/plain
    method: POST
    uri: https://storage.googleapis.com/upload/storage/v1/b/testingarchive02/o?uploadType=multipart
  response:
    body:
      string: "{\n  \"kind\": \"storage#object\",\n  \"id\": \"testingarchive02/test_append_to_non_existing_file/result.txt/1672776038333065\",\n
        \ \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt\",\n
        \ \"mediaLink\": \"https://storage.googleapis.com/download/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt?generation=1672776038333065&alt=media\",\n
        \ \"name\": \"test_append_to_non_existing_file/result.txt\",\n  \"bucket\":
        \"testingarchive02\",\n  \"generation\": \"1672776038333065\",\n  \"metageneration\":
        \"1\",\n  \"contentType\": \"text/plain\",\n  \"storageClass\": \"STANDARD\",\n
        \ \"size\": \"51\",\n  \"md5Hash\": \"k35a4YITeQkkV61fuOcqvg==\",\n  \"contentEncoding\":
        \"gzip\",\n  \"crc32c\": \"VBLCsA==\",\n  \"etag\": \"CIn1tqyYrPwCEAE=\",\n
        \ \"timeCreated\": \"2023-01-03T20:00:38.371Z\",\n  \"updated\": \"2023-01-03T20:00:38.371Z\",\n
        \ \"timeStorageClassUpdated\": \"2023-01-03T20:00:38.371Z\"\n}\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '910'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:38 GMT
      ETag:
      - CIn1tqyYrPwCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ADPycdvxC4ZoZ96C9iTOt10lsVNXsiDK6VAkc-qe50xFIexvC50j0KabPJg4hjjsvVqiadxzbTej35Gwyx120MKgDKJk920PGqte
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/1c6cb0f8-b6ab-49cb-9218-e7dda0eee1ec
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive02?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#bucket","selfLink":"https://www.googleapis.com/storage/v1/b/testingarchive02","id":"testingarchive02","name":"testingarchive02","projectNumber":"582817289294","metageneration":"4","location":"US","storageClass":"STANDARD","etag":"CAQ=","timeCreated":"2019-08-27T06:20:09.895Z","updated":"2023-01-03T19:39:25.849Z","iamConfiguration":{"bucketPolicyOnly":{"enabled":false},"uniformBucketLevelAccess":{"enabled":false},"publicAccessPrevention":"inherited"},"locationType":"multi-region","rpo":"DEFAULT"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '517'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:38 GMT
      ETag:
      - CAQ=
      Expires:
      - Tue, 03 Jan 2023 20:00:38 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ADPycdtqwNZFwCmw5NAciQ02bbkkthbLQCYoJusieB1B8-MxCXIxSLK24ot_5pEbWqLiPeZJBVKZDff9e5rOSsn90edF9CU04pCS
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/ab28dcd0-be75-4000-bf1e-fde8acbb2913
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#object","id":"testingarchive02/test_append_to_non_existing_file/result.txt/1672776038333065","selfLink":"https://www.googleapis.com/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt","mediaLink":"https://storage.googleapis.com/download/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt?generation=1672776038333065&alt=media","name":"test_append_to_non_existing_file/result.txt","bucket":"testingarchive02","generation":"1672776038333065","metageneration":"1","contentType":"text/plain","storageClass":"STANDARD","size":"51","md5Hash":"k35a4YITeQkkV61fuOcqvg==","contentEncoding":"gzip","crc32c":"VBLCsA==","etag":"CIn1tqyYrPwCEAE=","timeCreated":"2023-01-03T20:00:38.371Z","updated":"2023-01-03T20:00:38.371Z","timeStorageClassUpdated":"2023-01-03T20:00:38.371Z"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '836'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 03 Jan 2023 20:00:38 GMT
      ETag:
      - CIn1tqyYrPwCEAE=
      Expires:
      - Tue, 03 Jan 2023 20:00:38 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ADPycdvGdcwtp0aHcPQxbAzFiQUZZPMMUNFynbOiV_5JtZ9YU2Iw1ZRYXxcsqfiJPnObVQSHJ9Ro8GuOTUp5sXWD5SCeOyIz8fyH
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0
      X-Goog-API-Client:
      - gcloud-python/2.7.0  gl-python/3.10.5 gax/2.8.2 gccl/2.7.0 gccl-invocation-id/763cdbbf-455a-49ab-9183-414e0fab3d4e
      accept-encoding:
      - gzip
      content-type:
      - application/json; charset=UTF-8
      x-upload-content-type:
      - application/json; charset=UTF-8
    method: GET
    uri: https://storage.googleapis.com/download/storage/v1/b/testingarchive02/o/test_append_to_non_existing_file%2Fresult.txt?alt=media&generation=1672776038333065
  response:
    body:
      string: !!binary |
        H4sIAGWJtGMC/8vNz9VRyMnPz1ZILFHITdVRSCwoSM1LycxLV0hJLEkEAMTXCy8fAAAA
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443";
        ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Disposition:
      - attachment
      Content-Encoding:
      - gzip
      Content-Type:
      - text/plain
      Date:
      - Tue, 03 Jan 2023 20:00:39 GMT
      ETag:
      - CIn1tqyYrPwCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Accept-Encoding
      X-GUploader-UploadID:
      - ADPycdvsdXSdZEtzOno0EO4dbTod2VV7RpYjAusNjIDsfRKIaOJRlicnafwKQDdti4PdJjo26ZP_M2jYDRS6G3-jLc7nCbD9Imp5
      X-Goog-Generation:
      - '1672776038333065'
      X-Goog-Hash:
      - crc32c=VBLCsA==,md5=k35a4YITeQkkV61fuOcqvg==
      X-Goog-Metageneration:
      - '1'
      X-Goog-Storage-Class:
      - STANDARD
      X-Goog-Stored-Content-Encoding:
      - gzip
      X-Goog-Stored-Content-Length:
      - '51'
    status:
      code: 200
      message: OK
version: 1
